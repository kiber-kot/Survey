create table answers
(
    id          int8 generated by default as identity,
    answer      varchar(2048),
    user_id     int8 not null,
    question_id int8,
    primary key (id)
);
create table questions
(
    id            int8 generated by default as identity,
    question_text varchar(2048),
    question_type varchar(2048),
    survey_id     int8,
    primary key (id)
);
create table survey
(
    id          int8 generated by default as identity,
    description varchar(2048),
    end_date    timestamp,
    start_date  timestamp,
    survey_name varchar(255),
    primary key (id)
);
create table users
(
    id        int8 generated by default as identity,
    password  varchar(255),
    role      varchar(255),
    status    varchar(255),
    user_name varchar(255),
    primary key (id)
);
alter table if exists answers
    add constraint FK3erw1a3t0r78st8ty27x6v3g1 foreign key (question_id) references questions;
alter table if exists questions
    add constraint FKswmf2h9jo8708yrsu7htnep8b foreign key (survey_id) references survey;

insert into survey
values (1, 'Тестовый опрос', '2020-01-01', '2021-08-09', 'Тестовое название опроса');
insert into questions
values (1, 'Сколько весит жаба', 'TEST_RESPONSE', 1);
insert into questions
values (2, 'Кто живет на дне окена?', 'ONE_OPTION', 1);
insert into answers
values (1, 'Ответ 200 гр', 1, 1);
insert into answers
values (2, 'Спанч Боб', 1, 2);

insert into survey
values (2, 'Тестовый опрос 2', '2021-10-09', '2021-01-09', 'Тестовое название опроса');
insert into survey
values (3, 'Тестовый опрос 3', '2021-11-09', '2021-01-09', 'Тестовое название опроса');
insert into survey
values (4, 'Тестовый опрос 4', '2021-05-09', '2021-01-09', 'Тестовое название опроса');
insert into questions
values (3, 'Кто пукает без шума?', 'ONE_OPTION', 1);
insert into questions
values (4, 'Кто хотел стать хокаге больше всего?', 'MANY_OPTIONS', 3);
insert into answers
values (3, 'Шептун', 1, 1);
insert into answers
values (4, 'Наруто', 3, 3);

insert into questions
values (5, 'Первый призедент России?', 'ONE_OPTION', 2);
insert into questions
values (6, 'Кто самый умный?', 'MANY_OPTIONS', 2);
insert into answers
values (5, 'Шептун', 1, 4);
insert into answers
values (6, 'Наруто', 1, 5);

insert into users
values (1, '$2y$12$aMUylCizeNfQFtoKwlk.g.DKkYhZ5Y8S0xZTn2goLFipdNjObumFq', 'ADMIN', 'ACTIVE', 'admin');